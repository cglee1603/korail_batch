# Management API 설정 (RAGFlow API Key 대신 사용자명/비밀번호)
MANAGEMENT_USERNAME=admin
MANAGEMENT_PASSWORD=12345678
RAGFLOW_BASE_URL=http://localhost:5000

# 지식베이스 권한 설정
# "me" - 나만 사용 (기본값)
# "team" - 팀 전체 공유
DATASET_PERMISSION=me

# ⚠️ DATASET_LANGUAGE는 더 이상 사용되지 않습니다
# RAGFlow API에서 language 파라미터를 지원하지 않습니다
# DATASET_LANGUAGE=Korean

# 임베딩 모델 설정
# ⚠️ 주의: 이 설정은 현재 사용되지 않습니다 (config.py에서 None으로 고정)
# 지식베이스는 자동으로 tenant의 기본 임베딩 모델(tenant.embd_id)을 사용합니다
# RAGFlow UI에서 설정된 기본 모델이 자동으로 적용됩니다
# EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5  # (현재 무시됨)

# ==================== Parser 설정 (GUI와 동일하게) ====================

# 청크 분할 방법
# - "naive": 일반 텍스트 분할 (기본값, 권장)
# - "qa": Q&A 형식
# - "manual": 수동 분할
# - "paper": 논문 형식
# - "book": 책 형식
# - "laws": 법률 문서
# - "presentation": 프레젠테이션
# - "knowledge_graph": 지식 그래프
CHUNK_METHOD=naive

# 청크당 토큰 수 (기본: 512 - GUI 기본값)
# 값이 클수록 더 큰 단위로 분할됨 (문맥 유지에 유리하지만 검색 정확도 저하 가능)
# 권장값: 128-512
CHUNK_TOKEN_NUM=512

# 텍스트 구분자 (기본: 줄바꿈과 문장 종결 기호)
# 이 문자들을 기준으로 청크를 나눔
DELIMITER=\\n!?;。；！？

# 레이아웃 인식 방법
# - "MinerU": MinerU 모델 사용 (기본값, 권장) - 한국어 지원
# - "DeepDOC": DeepDOC 모델 사용 (구버전)
LAYOUT_RECOGNIZE=MinerU

# Excel HTML 변환 사용 여부 (true/false)
HTML4EXCEL=false

# 자동 키워드 추출 (0: 비활성화, N: N개 키워드 추출)
# 청크마다 자동으로 키워드를 추출합니다 (LLM 호출 발생)
AUTO_KEYWORDS=0

# 자동 질문 생성 (0: 비활성화, N: N개 질문 생성)
# 청크마다 자동으로 질문을 생성합니다 (LLM 호출 발생)
AUTO_QUESTIONS=0

# GraphRAG 사용 여부 (true/false)
# ⚠️ 경고: 그래프 기반 RAG를 활성화하면 처리 시간이 매우 길어집니다
USE_GRAPHRAG=false

# Raptor 계층적 요약 사용 여부 (true/false)
# ⚠️  경고: true로 설정하면 문서를 계층적으로 요약하여 더 나은 검색 성능 제공
# 하지만 처리 시간이 매우 길어지고 LLM 호출이 많이 발생합니다!
# Raptor: Recursive Abstractive Processing for Tree-Organized Retrieval
USE_RAPTOR=false

# === Raptor 고급 설정 ===
# ⚠️ 참고: 현재 GUI와의 호환성을 위해 Raptor는 on/off만 지원합니다
# 아래 고급 설정들은 향후 지원될 수 있으나 현재는 사용되지 않습니다
# GUI에서 Raptor를 활성화하면 RAGFlow 서버의 기본 설정이 자동 적용됩니다

# # LLM에 전달할 요약 프롬프트 (미지원)
# # {cluster_content}는 자동으로 실제 내용으로 치환됨
# RAPTOR_PROMPT=Please summarize the following paragraphs. Be careful with the numbers, do not make things up. Paragraphs as following:\n{cluster_content}\nThe above is the content you need to summarize.

# # 요약할 때 생성할 최대 토큰 수 (기본: 256, 미지원)
# RAPTOR_MAX_TOKEN=256

# # 클러스터링 임계값 (기본: 0.1, 범위: 0.0-1.0, 미지원)
# # 값이 작을수록 더 많은 클러스터 생성
# RAPTOR_THRESHOLD=0.1

# # 랜덤 시드 (재현 가능한 결과를 위해 사용, 미지원)
# # 0 = 고정된 시드, 다른 값 = 해당 시드 사용
# RAPTOR_RANDOM_SEED=0

# # 최대 클러스터 수 (기본: 64, 미지원)
# RAPTOR_MAX_CLUSTER=64

# 고급 설정: JSON 형태로 전체 parser_config 직접 지정 (선택사항)
# 위의 개별 설정보다 우선 적용됨
# 예: PARSER_CONFIG={"chunk_token_num": 256, "delimiter": "\\n", "layout_recognize": "MinerU"}
# PARSER_CONFIG=

# 배치 설정
EXCEL_FILE_PATH=./data/input.xlsx
DOWNLOAD_DIR=./data/downloads
TEMP_DIR=./data/temp
LOG_DIR=./logs

# 스케줄 설정 (cron 형식 또는 시간 간격)
# 예: "10:00", "14:00" (매일 특정 시간)
# 또는 "300" (300초마다)
BATCH_SCHEDULE=10:00

# ==================== 파싱 진행 상황 모니터링 ====================
# 파싱 진행 상황을 실시간으로 모니터링할지 여부
# true: 파싱이 완료될 때까지 대기하며 진행 상황 출력
# false: 파싱 시작만 하고 백그라운드로 실행 (권장)
MONITOR_PARSE_PROGRESS=false

# 파싱 모니터링 최대 대기 시간 (분)
# MONITOR_PARSE_PROGRESS=true일 때만 적용
# 이 시간이 지나면 모니터링 종료 (파싱은 계속 진행됨)
PARSE_TIMEOUT_MINUTES=30

# ==================== 테스트 모드 설정 ====================
# 테스트 모드 활성화 여부 (true/false)
# true로 설정하면 제한된 시트와 행만 처리하여 빠른 테스트 가능
TEST_MODE=false

# 테스트 모드일 때 처리할 최대 시트 수 (0 = 무제한)
TEST_MAX_SHEETS=2

# 테스트 모드일 때 시트당 처리할 최대 행 수 (0 = 무제한)
TEST_MAX_ROWS=2

# ==================== 데이터베이스 설정 (선택) ====================
# 데이터 소스 선택
# "excel" - 엑셀 파일만 사용 (기본값)
# "db" - 데이터베이스만 사용
# "both" - 엑셀과 DB 모두 사용
DATA_SOURCE=both

# DB 연결 문자열
# PostgreSQL: postgresql://user:password@localhost:5432/database_name
# MySQL:      mysql://user:password@localhost:3306/database_name  
# MSSQL:      mssql://user:password@localhost:1433/database_name
# Oracle:     oracle://user:password@localhost:1521/database_name
DB_CONNECTION_STRING=

# SQL 파일 경로
DB_SQL_FILE_PATH=./data/query.sql

# DB 내용을 텍스트 파일로 변환
# 텍스트로 변환할 컬럼들을 콤마로 구분하여 지정
# 예: title,content,description
DB_CONTENT_COLUMNS=title,content

# 메타데이터로 사용할 컬럼 (선택사항)
# 비어있으면 모든 컬럼을 메타데이터로 사용
# 특정 컬럼만 사용하려면 콤마로 구분
# 예: category,author,created_at,department
DB_METADATA_COLUMNS=

# ==================== 사용 예시 ====================

# [예시 1] PostgreSQL 사용
# DATA_SOURCE=db
# DB_CONNECTION_STRING=postgresql://ragflow:password@localhost:5432/documents
# DB_SQL_FILE_PATH=./data/query.sql
# DB_CONTENT_COLUMNS=title,content
# DB_METADATA_COLUMNS=category,author,created_at

# [예시 2] MySQL 사용
# DATA_SOURCE=db
# DB_CONNECTION_STRING=mysql://admin:admin123@192.168.1.100:3306/knowledge_base
# DB_SQL_FILE_PATH=./data/query.sql
# DB_CONTENT_COLUMNS=regulation_name,regulation_content
# DB_METADATA_COLUMNS=department,effective_date

# [예시 3] Excel + DB 혼합 사용
# DATA_SOURCE=both
# EXCEL_FILE_PATH=./data/input.xlsx
# DB_CONNECTION_STRING=postgresql://user:pass@localhost:5432/db
# DB_SQL_FILE_PATH=./data/query.sql
# DB_CONTENT_COLUMNS=title,content

